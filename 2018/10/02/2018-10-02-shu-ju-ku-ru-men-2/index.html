<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="数据库入门2, 星星的博客">
    <meta name="description" content="


检索数据无查询条件的查询基本查询：select *from student ;倒序查询5条数据：select *from student order by id desc limit 0,5 ;基础查询：查询数据量（设置别名： 字段名">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>数据库入门2 | 星星的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">星星的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">星星的博客</div>
        <div class="logo-desc">
            
            一起学习 共同进步
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        数据库入门2
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQL/" target="_blank">
                                <span class="chip bg-color">MySQL</span>
                            </a>
                        
                            <a href="/tags/检索数据/" target="_blank">
                                <span class="chip bg-color">检索数据</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/MySQL/" class="post-category" target="_blank">
                                MySQL
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-10-02
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        7.6k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        40 分
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <meta name="referrer" content="no-referrer">


<h2 id="检索数据"><a href="#检索数据" class="headerlink" title="检索数据"></a>检索数据</h2><h4 id="无查询条件的查询"><a href="#无查询条件的查询" class="headerlink" title="无查询条件的查询"></a>无查询条件的查询</h4><h5 id="基本查询："><a href="#基本查询：" class="headerlink" title="基本查询："></a>基本查询：</h5><pre><code>select *from student ;</code></pre><h5 id="倒序查询5条数据："><a href="#倒序查询5条数据：" class="headerlink" title="倒序查询5条数据："></a>倒序查询5条数据：</h5><pre><code>select *from student order by id desc limit 0,5 ;</code></pre><h5 id="基础查询：查询数据量（设置别名：-字段名-as-别名）"><a href="#基础查询：查询数据量（设置别名：-字段名-as-别名）" class="headerlink" title="基础查询：查询数据量（设置别名： 字段名 as 别名）"></a>基础查询：查询数据量（设置别名： 字段名 as 别名）</h5><pre><code>select name as n,sex as s,age as a from stu;

select name n,sex s,age a from stu;</code></pre><pre><code>select count(name) from student;
select count(name) from student where age&gt;=26;
select count(name) as total from student where age&gt;=26;</code></pre><h5 id="查询空值-null"><a href="#查询空值-null" class="headerlink" title="查询空值 null"></a>查询空值 null</h5><pre><code>select *from stu where number is null;</code></pre><h5 id="查询非空值-not-null"><a href="#查询非空值-not-null" class="headerlink" title="查询非空值 not null"></a>查询非空值 not null</h5><pre><code>select *from stu where number is not null;</code></pre><h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><pre><code>select *from student where age=25;
select *from student where age=25 and id&gt;=4;
select *from student where sex=&#39;女&#39; or age&gt;=50;
select *from student where not id=2;
select *from student where  id%2=1;</code></pre><h5 id="使用in："><a href="#使用in：" class="headerlink" title="使用in："></a>使用in：</h5><pre><code>select *from student where id in(1,2,5);</code></pre><h5 id="使用between"><a href="#使用between" class="headerlink" title="使用between"></a>使用between</h5><p>查到3 4 5 三条数据：</p>
<pre><code>select *from student where id between 3 and 5;</code></pre><h5 id="like-模糊查询"><a href="#like-模糊查询" class="headerlink" title="like 模糊查询"></a>like 模糊查询</h5><pre><code>select *from student where name like&#39;鲁%&#39;;

select *from student where name like&#39;%博%&#39;;</code></pre><h4 id="使用distinct查询唯一值"><a href="#使用distinct查询唯一值" class="headerlink" title="使用distinct查询唯一值"></a>使用distinct查询唯一值</h4><p>表里的全部数据：</p>
<pre><code>mysql&gt; select * from user;
+----+-------------+------+---------------------+------+------+
| id | name        | age  | email               | sign | grad |
+----+-------------+------+---------------------+------+------+
|  1 | liuxingxing |   23 | lxxwork0827@163.com |   10 | A    |
|  2 | qian        |   23 | lxxwork0827@163.com |   30 | B    |
|  3 | zhao        |   21 | zhaoemail           |    3 | A    |
|  4 | qian        |   23 | lxxwork0827@163.com |    2 | B    |
|  5 | zhao        |   23 | lxxwork0827@163.com |    2 | A    |
|  6 | qian        |   23 | lxxwork0827@163.com |    7 | B    |
|  7 | liudehua    |   23 | lxxwork0827@163.com |   77 | A    |
+----+-------------+------+---------------------+------+------+
7 rows in set (0.00 sec)</code></pre><p>使用distinct对name进行去重：</p>
<pre><code>mysql&gt; select distinct name from user;
+-------------+
| name        |
+-------------+
| liuxingxing |
| qian        |
| zhao        |
| liudehua    |
+-------------+
4 rows in set (0.00 sec)</code></pre><p>但是当我们想要同时筛选出id时，结果并非我们预想的那样（mysql 只会将name 和id 都重复给过滤掉，所以都给筛选出来了）：</p>
<pre><code>mysql&gt; select distinct name, id  from user;
+-------------+----+
| name        | id |
+-------------+----+
| liuxingxing |  1 |
| qian        |  2 |
| zhao        |  3 |
| qian        |  4 |
| zhao        |  5 |
| qian        |  6 |
| liudehua    |  7 |
+-------------+----+
7 rows in set (0.00 sec)</code></pre><p>如果试图将id 也加上distinct，就会报语法错误：</p>
<pre><code>mysql&gt; select distinct name,  distinct id  from user;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;distinct id  from user&#39; at line 1</code></pre><p> 实际中我们往往用distinct来返回不重复字段的条数（count(distinct name)）,其原因是distinct只能返回他的目标字段，而无法返回其他字段:</p>
<pre><code>mysql&gt; select count(distinct name)  from user;
+----------------------+
| count(distinct name) |
+----------------------+
|                    4 |
+----------------------+
1 row in set (0.00 sec)</code></pre><h4 id="group分组查询"><a href="#group分组查询" class="headerlink" title="group分组查询"></a>group分组查询</h4><p>注意：分组只能是分组后的数量而不能是分组后的组里信息。</p>
<pre><code>select 字段或聚合函数 from 表名 group by
常用的聚合函数有：avg count max min sum</code></pre><h5 id="连表查询举例（蛮重要的）"><a href="#连表查询举例（蛮重要的）" class="headerlink" title="连表查询举例（蛮重要的）"></a>连表查询举例（蛮重要的）</h5><p>查询一张表的数据如下：</p>
<pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | li        |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.00 sec)</code></pre><p>统计不同edu的人数：</p>
<pre><code>mysql&gt; select edu,count(*) from user group by edu;
+-----+----------+
| edu | count(*) |
+-----+----------+
|   1 |        4 |
|   2 |        2 |
|   3 |        3 |
|   6 |        2 |
|   5 |        2 |
|   4 |        2 |
+-----+----------+
6 rows in set (0.00 sec)</code></pre><p>如果我们此刻想要知道每个edu下每个人的名字，直接查询会出错：</p>
<pre><code>mysql&gt; select edu,name, count(*) from user group by edu;
ERROR 1055 (42000): Expression #2 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;db_edu.user.name&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by
</code></pre><p>我们此刻便可以使用group_concat()来完成此需求：</p>
<pre><code>mysql&gt; select edu,group_concat(name), count(*) from user group by edu;
+-----+--------------------------+----------+
| edu | group_concat(name)       | count(*) |
+-----+--------------------------+----------+
|   1 | 刘二拐,sun,feng,zhang    |        4 |
|   2 | li,zhao                  |        2 |
|   3 | wang,zhou,chen           |        3 |
|   4 | zheng,chu                |        2 |
|   5 | wu,wei                   |        2 |
|   6 | qian,yang                |        2 |
+-----+--------------------------+----------+
6 rows in set (0.01 sec)</code></pre><p><strong>如果此刻，我们想要将edu字段对应的另一张表的tb_edu.edu具体信息查出来：</strong></p>
<p>通过嵌套查询：</p>
<pre><code>mysql&gt; select edu,(select tb_edu.edu from tb_edu where tb_edu.id=user.edu) as edu_name, group_concat(name), count(*) from user group by edu;
+-----+----------+--------------------------+----------+
| edu | edu_name | group_concat(name)       | count(*) |
+-----+----------+--------------------------+----------+
|   1 | 小学     | 刘二拐,sun,feng,zhang    |        4 |
|   2 | 初中     | 李大狗,zhao              |        2 |
|   3 | 高中     | wang,zhou,chen           |        3 |
|   4 | 本科     | zheng,chu                |        2 |
|   5 | 硕士     | wu,wei                   |        2 |
|   6 | 博士     | qian,yang                |        2 |
+-----+----------+--------------------------+----------+
6 rows in set (0.00 sec)</code></pre><p>连表查询：</p>
<pre><code>mysql&gt; select user.edu, tb_edu.edu, group_concat(name), count(*) from user join tb_edu on user.edu=tb_edu.id  group by user.edu;
+-----+--------+--------------------------+----------+
| edu | edu    | group_concat(name)       | count(*) |
+-----+--------+--------------------------+----------+
|   1 | 小学   | 刘二拐,sun,feng,zhang    |        4 |
|   2 | 初中   | 李大狗,zhao              |        2 |
|   3 | 高中   | wang,zhou,chen           |        3 |
|   4 | 本科   | zheng,chu                |        2 |
|   5 | 硕士   | wu,wei                   |        2 |
|   6 | 博士   | qian,yang                |        2 |
+-----+--------+--------------------------+----------+
6 rows in set (0.00 sec)
</code></pre><h4 id="多字段通过group分组"><a href="#多字段通过group分组" class="headerlink" title="多字段通过group分组"></a>多字段通过group分组</h4><pre><code>mysql&gt; select age,edu,group_concat(name),count(*)  from user group by edu,age;
+-----+-----+--------------------+----------+
| age | edu | group_concat(name) | count(*) |
+-----+-----+--------------------+----------+
|  42 |   1 | sun                |        1 |
|  55 |   1 | zhang              |        1 |
|  67 |   1 | feng               |        1 |
| 123 |   1 | 刘二拐             |        1 |
|  22 |   2 | li                 |        1 |
|  25 |   2 | zhao               |        1 |
|  25 |   3 | chen               |        1 |
|  26 |   3 | wang               |        1 |
|  34 |   3 | zhou               |        1 |
|  64 |   4 | zheng              |        1 |
|  72 |   4 | chu                |        1 |
|  53 |   5 | wu                 |        1 |
|  81 |   5 | wei                |        1 |
|  19 |   6 | yang               |        1 |
|  32 |   6 | qian               |        1 |
+-----+-----+--------------------+----------+
15 rows in set (0.00 sec)

mysql&gt; select age,edu,group_concat(name),count(*)  from user group by age,edu;
+-----+-----+--------------------+----------+
| age | edu | group_concat(name) | count(*) |
+-----+-----+--------------------+----------+
|  19 |   6 | yang               |        1 |
|  22 |   2 | li                 |        1 |
|  25 |   2 | zhao               |        1 |
|  25 |   3 | chen               |        1 |
|  26 |   3 | wang               |        1 |
|  32 |   6 | qian               |        1 |
|  34 |   3 | zhou               |        1 |
|  42 |   1 | sun                |        1 |
|  53 |   5 | wu                 |        1 |
|  55 |   1 | zhang              |        1 |
|  64 |   4 | zheng              |        1 |
|  67 |   1 | feng               |        1 |
|  72 |   4 | chu                |        1 |
|  81 |   5 | wei                |        1 |
| 123 |   1 | 刘二拐             |        1 |
+-----+-----+--------------------+----------+
15 rows in set (0.00 sec)</code></pre><h3 id="having"><a href="#having" class="headerlink" title="having"></a>having</h3><blockquote>
<p>having是针对结果集做操作的， 而where是针对表做操作的。(也就是说，having在数据分组之后进行过滤来选择分组，而where在分组之前用来选择记录。另外，where排除的记录不再包括在分组中。)</p>
</blockquote>
<h4 id="having查询举例"><a href="#having查询举例" class="headerlink" title="having查询举例"></a>having查询举例</h4><h5 id="简单的例子"><a href="#简单的例子" class="headerlink" title="简单的例子"></a>简单的例子</h5><p>举例1: 筛选利润大于300的商品</p>
<pre><code>select goods_name, (market_price-cast_price) as profit  from goods having profit &gt; 300;</code></pre><p>举例2: 筛选总利润大于50000的商品类别</p>
<pre><code>select category, sum((market_price-cast_price) * goods_count_left) as category_profit_total  from goods group by category having category_profit_total &gt; 50000;</code></pre><p>举例3：获取男女人数超过3人的组的个数</p>
<pre><code>select  count(sex) as sexnum from student group by sex having sexnum&gt;3;
//得到4</code></pre><p>举例4：获取学生姓名个数</p>
<pre><code>select name,count(name) from student group by name;</code></pre><p>举例5：获取学生姓名个数和该名字中最大年龄并逆序</p>
<pre><code>select name,count(name) as namecount,max(age) as maxold from student group by name desc;</code></pre><h5 id="具体例子：根据不同教育edu类型的人数筛选出人数不小于3-的信息。"><a href="#具体例子：根据不同教育edu类型的人数筛选出人数不小于3-的信息。" class="headerlink" title="具体例子：根据不同教育edu类型的人数筛选出人数不小于3 的信息。"></a>具体例子：根据不同教育edu类型的人数筛选出人数不小于3 的信息。</h5><p>现有user表数据如下：</p>
<pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.01 sec)
</code></pre><p>按照edu的类别进行分组：</p>
<pre><code>mysql&gt; select edu,group_concat(name), count(*) from user group by edu ;
+-----+--------------------------+----------+
| edu | group_concat(name)       | count(*) |
+-----+--------------------------+----------+
|   1 | 刘二拐,sun,feng,zhang    |        4 |
|   2 | 李大狗,zhao              |        2 |
|   3 | wang,zhou,chen           |        3 |
|   4 | zheng,chu                |        2 |
|   5 | wu,wei                   |        2 |
|   6 | qian,yang                |        2 |
+-----+--------------------------+----------+
6 rows in set (0.00 sec)</code></pre><p>统计出edu类别人数不小于3人的类别信息：    </p>
<pre><code>mysql&gt; select edu,group_concat(name), count(*) as userCount  from user group by edu having count(*)&gt;=3;
+-----+--------------------------+-----------+
| edu | group_concat(name)       | userCount |
+-----+--------------------------+-----------+
|   1 | 刘二拐,sun,feng,zhang    |         4 |
|   3 | wang,zhou,chen           |         3 |
+-----+--------------------------+-----------+
2 rows in set (0.00 sec)</code></pre><h4 id="具体例子：查出两门及两门以上不及格者的平均成绩"><a href="#具体例子：查出两门及两门以上不及格者的平均成绩" class="headerlink" title="具体例子：查出两门及两门以上不及格者的平均成绩"></a>具体例子：查出两门及两门以上不及格者的平均成绩</h4><p>创建表并插入数据：</p>
<pre><code>​```
create table tb_score(
name varchar(20),
subject varchar(20),
score tinyint unsigned
) engine myisam charset utf8;



insert into tb_score (name, subject, score)
values(&#39;张三&#39;,&#39;语文&#39;, &#39;78&#39;),
(&#39;张三&#39;,&#39;数学&#39;, &#39;38&#39;),
(&#39;张三&#39;,&#39;地理&#39;, &#39;58&#39;),
(&#39;李四&#39;,&#39;语文&#39;, &#39;25&#39;),
(&#39;李四&#39;,&#39;数学&#39;, &#39;78&#39;),
(&#39;李四&#39;,&#39;地理&#39;, &#39;33&#39;),
(&#39;王五&#39;,&#39;语文&#39;, &#39;66&#39;),
(&#39;王五&#39;,&#39;数学&#39;, &#39;90&#39;),
(&#39;王五&#39;,&#39;地理&#39;, &#39;21&#39;);
​```</code></pre><p>实验：</p>
<pre><code>//error:想要通过count来筛选出挂科数是不行的 count（0）与count（1）筛选出的结果是一样的。
select name, avg(score), count(score&lt;60) as c from tb_score group by name having c&gt;=2;

//first:获取每个同学的平均成绩
select name, avg(score)  from tb_score group by name;
//获取每个人的每科是否挂了 
select name, subject, (score&lt;60) as fail from tb_score;

//获取每个人的挂科数
select name, sum(score&lt;60) as fail_count from tb_score group by name;

//正确(也就是将错误的语句中的count 换成 sum即可)：
select name, avg(score), sum(score&lt;60) as c from tb_score group by name having c&gt;=2;</code></pre><h3 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h3><pre><code>select *from student order by age desc;</code></pre><h5 id="多字段排序"><a href="#多字段排序" class="headerlink" title="多字段排序"></a>多字段排序</h5><pre><code>select *from student order by age desc， name desc</code></pre><h5 id="查询出年龄最大的人的id"><a href="#查询出年龄最大的人的id" class="headerlink" title="查询出年龄最大的人的id"></a>查询出年龄最大的人的id</h5><pre><code>select  id from stu where age=(select max(age) from stu);</code></pre><h5 id="分组后使用-order-by"><a href="#分组后使用-order-by" class="headerlink" title="分组后使用 order by"></a>分组后使用 order by</h5><pre><code>mysql&gt; select group_concat(age) as total_age,edu,group_concat(name) as total_name,count(*) as total_count  from user group by edu;
+--------------+-----+--------------------------+-------------+
| total_age    | edu | total_name               | total_count |
+--------------+-----+--------------------------+-------------+
| 123,42,67,55 |   1 | 刘二拐,sun,feng,zhang    |           4 |
| 22,25        |   2 | li,zhao                  |           2 |
| 26,34,25     |   3 | wang,zhou,chen           |           3 |
| 64,72        |   4 | zheng,chu                |           2 |
| 53,81        |   5 | wu,wei                   |           2 |
| 32,19        |   6 | qian,yang                |           2 |
+--------------+-----+--------------------------+-------------+
6 rows in set (0.00 sec)

mysql&gt; select group_concat(age) as total_age,edu,group_concat(name) as total_name,count(*) as total_count  from user group by edu order by edu desc;
+--------------+-----+--------------------------+-------------+
| total_age    | edu | total_name               | total_count |
+--------------+-----+--------------------------+-------------+
| 32,19        |   6 | qian,yang                |           2 |
| 53,81        |   5 | wu,wei                   |           2 |
| 64,72        |   4 | zheng,chu                |           2 |
| 26,34,25     |   3 | wang,zhou,chen           |           3 |
| 22,25        |   2 | li,zhao                  |           2 |
| 123,42,67,55 |   1 | 刘二拐,sun,feng,zhang    |           4 |
+--------------+-----+--------------------------+-------------+
6 rows in set (0.00 sec)</code></pre><h3 id="limit-分页查询"><a href="#limit-分页查询" class="headerlink" title="limit 分页查询"></a>limit 分页查询</h3><pre><code>limit[位置偏移量]，行数</code></pre><h4 id="前3个"><a href="#前3个" class="headerlink" title="前3个"></a>前3个</h4><pre><code>select *from student order by age desc limit 0,3;
select *from student order by age desc limit 3;</code></pre><h3 id="常用的函数"><a href="#常用的函数" class="headerlink" title="常用的函数"></a>常用的函数</h3><h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><pre><code>avg
sum 
count
max
min
</code></pre><h5 id="min"><a href="#min" class="headerlink" title="min"></a>min</h5><pre><code>+-------------------+-----+--------------------------+----------+
| group_concat(age) | edu | group_concat(name)       | min(age) |
+-------------------+-----+--------------------------+----------+
| 123,42,67,55      |   1 | 刘二拐,sun,feng,zhang    |       42 |
| 22,25             |   2 | li,zhao                  |       22 |
| 26,34,25          |   3 | wang,zhou,chen           |       25 |
| 64,72             |   4 | zheng,chu                |       64 |
| 53,81             |   5 | wu,wei                   |       53 |
| 32,19             |   6 | qian,yang                |       19 |
+-------------------+-----+--------------------------+----------+
6 rows in set (0.00 sec)

mysql&gt; select edu,group_concat(name),min(age)  from user group by edu;
+-----+--------------------------+----------+
| edu | group_concat(name)       | min(age) |
+-----+--------------------------+----------+
|   1 | 刘二拐,sun,feng,zhang    |       42 |
|   2 | li,zhao                  |       22 |
|   3 | wang,zhou,chen           |       25 |
|   4 | zheng,chu                |       64 |
|   5 | wu,wei                   |       53 |
|   6 | qian,yang                |       19 |
+-----+--------------------------+----------+
6 rows in set (0.00 sec)</code></pre><h5 id="count"><a href="#count" class="headerlink" title="count"></a>count</h5><p>统计下该表有多少数据</p>
<pre><code>select count(*) from stu;
select count(id) from stu;</code></pre><h5 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h5><pre><code>select sum(age) from stu;</code></pre><h5 id="avg"><a href="#avg" class="headerlink" title="avg"></a>avg</h5><pre><code>select avg(age) from stu;</code></pre><h4 id="concat连接操作"><a href="#concat连接操作" class="headerlink" title="concat连接操作"></a>concat连接操作</h4><pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.00 sec)

mysql&gt; select concat(&#39;ID:&#39;, id) as ID,concat(&#39;name:&#39;,name) as &#39;姓名&#39; from user;
+-------+----------------+
| ID    | 姓名           |
+-------+----------------+
| ID:1  | name:刘二拐    |
| ID:2  | name:李大狗    |
| ID:3  | name:wang      |
| ID:4  | name:zhao      |
| ID:5  | name:qian      |
| ID:6  | name:sun       |
| ID:7  | name:zhou      |
| ID:8  | name:wu        |
| ID:9  | name:zheng     |
| ID:10 | name:feng      |
| ID:11 | name:chen      |
| ID:12 | name:chu       |
| ID:13 | name:wei       |
| ID:14 | name:yang      |
| ID:15 | name:zhang     |
+-------+----------------+
15 rows in set (0.00 sec)</code></pre><pre><code>mysql&gt; select id, name, age, concat(id,&#39;_&#39;,name,&#39;_&#39;,age) as info from user;
+----+-----------+-----+-----------------+
| id | name      | age | info            |
+----+-----------+-----+-----------------+
|  1 | 刘二拐    | 123 | 1_刘二拐_123    |
|  2 | 李大狗    |  22 | 2_李大狗_22     |
|  3 | wang      |  26 | 3_wang_26       |
|  4 | zhao      |  25 | 4_zhao_25       |
|  5 | qian      |  32 | 5_qian_32       |
|  6 | sun       |  42 | 6_sun_42        |
|  7 | zhou      |  34 | 7_zhou_34       |
|  8 | wu        |  53 | 8_wu_53         |
|  9 | zheng     |  64 | 9_zheng_64      |
| 10 | feng      |  67 | 10_feng_67      |
| 11 | chen      |  25 | 11_chen_25      |
| 12 | chu       |  72 | 12_chu_72       |
| 13 | wei       |  81 | 13_wei_81       |
| 14 | yang      |  19 | 14_yang_19      |
| 15 | zhang     |  55 | 15_zhang_55     |
+----+-----------+-----+-----------------+
15 rows in set (0.00 sec)</code></pre><h4 id="随机数排序"><a href="#随机数排序" class="headerlink" title="随机数排序"></a>随机数排序</h4><pre><code>mysql&gt; select * from user order by rand();
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
| 11 | chen      |  25 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  7 | zhou      |  34 |   3 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
| 13 | wei       |  81 |   5 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
+----+-----------+-----+-----+-------------+
15 rows in set (0.01 sec)</code></pre><h4 id="时间处理"><a href="#时间处理" class="headerlink" title="时间处理"></a>时间处理</h4><pre><code>select unix_timestamp();
select from_unixtime(1521892355);</code></pre><h4 id="with-rollup与coalesce的使用"><a href="#with-rollup与coalesce的使用" class="headerlink" title="with rollup与coalesce的使用"></a>with rollup与coalesce的使用</h4><p>原数据如下：</p>
<pre><code>mysql&gt; select * from user;
+----+-------------+------+---------------------+------+------+
| id | name        | age  | email               | sign | grad |
+----+-------------+------+---------------------+------+------+
|  1 | liuxingxing |   23 | lxxwork0827@163.com |   10 | A    |
|  2 | qian        |   23 | lxxwork0827@163.com |   30 | B    |
|  3 | zhao        |   21 | zhaoemail           |    3 | A    |
|  4 | qian        |   23 | lxxwork0827@163.com |    2 | B    |
|  5 | zhao        |   23 | lxxwork0827@163.com |    2 | A    |
|  6 | qian        |   23 | lxxwork0827@163.com |    7 | B    |
|  7 | liudehua    |   23 | lxxwork0827@163.com |   77 | A    |
+----+-------------+------+---------------------+------+------+
7 rows in set (0.00 sec)</code></pre><p>现在，需要统计出每个用户sign（登录）的总次数，这里便用到了WITH ROLLUP：</p>
<pre><code>mysql&gt; select name, sum(sign), count(name) from user group by name;
+-------------+-----------+-------------+
| name        | sum(sign) | count(name) |
+-------------+-----------+-------------+
| liuxingxing |        10 |           1 |
| qian        |        39 |           3 |
| zhao        |         5 |           2 |
| liudehua    |        77 |           1 |
+-------------+-----------+-------------+
4 rows in set (0.00 sec)

mysql&gt; select name, sum(sign), count(name) from user group by name with rollup;
+-------------+-----------+-------------+
| name        | sum(sign) | count(name) |
+-------------+-----------+-------------+
| liudehua    |        77 |           1 |
| liuxingxing |        10 |           1 |
| qian        |        39 |           3 |
| zhao        |         5 |           2 |
| NULL        |       131 |           7 |
+-------------+-----------+-------------+
5 rows in set (0.00 sec)</code></pre><p>我们注意到，最后一行的name字段为null。NULL表示所有人的登录次数。我们可以使用 coalesce 来设置一个可以取代 NUll 的名称，coalesce 语法：</p>
<pre><code>select coalesce(a,b,c);</code></pre><blockquote>
<p>参数说明：如果a==null,则选择b；如果b==null,则选择c；如果a!=null,则选择a；如果a b c 都为null ，则返回为null（没意义）。</p>
</blockquote>
<pre><code>mysql&gt; select coalesce(name,&#39;总计&#39;), sum(sign), count(name) from user group by name with rollup;
+-------------------------+-----------+-------------+
| coalesce(name,&#39;总计&#39;)   | sum(sign) | count(name) |
+-------------------------+-----------+-------------+
| liudehua                |        77 |           1 |
| liuxingxing             |        10 |           1 |
| qian                    |        39 |           3 |
| zhao                    |         5 |           2 |
| 总计                    |       131 |           7 |
+-------------------------+-----------+-------------+
5 rows in set (0.00 sec)</code></pre><h3 id="exists查询"><a href="#exists查询" class="headerlink" title="exists查询"></a>exists查询</h3><blockquote>
<p> exists关键字后是任意一个子查询，如果子查询返回至少1行，则为真，外层查询语句将进行查询，否则不进行查询。</p>
</blockquote>
<p>例如这2个表的数据：</p>
<pre><code>mysql&gt; select * from tb_edu;
+----+--------+
| id | edu    |
+----+--------+
|  1 | 小学   |
|  2 | 初中   |
|  3 | 高中   |
|  4 | 本科   |
|  5 | 硕士   |
|  6 | 博士   |
+----+--------+
6 rows in set (0.01 sec)

mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.00 sec)</code></pre><p>如果我将子查询语句中tb_edu.id 大于6，那么子查询返回的是空值，那么前面的查询语句就不会执行，返回空。</p>
<pre><code>mysql&gt; select * from user where exists (select id from tb_edu where tb_edu.id &gt; 6);
Empty set (0.00 sec)</code></pre><pre><code>mysql&gt; select * from user where exists (select id from tb_edu where tb_edu.id &gt; 5);
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.01 sec)</code></pre><h3 id="嵌套查询-where-in"><a href="#嵌套查询-where-in" class="headerlink" title="嵌套查询(where in)"></a>嵌套查询(where in)</h3><p>表数据如下：</p>
<pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.00 sec)

mysql&gt; select * from tb_edu;
+----+--------+
| id | edu    |
+----+--------+
|  1 | 小学   |
|  2 | 初中   |
|  3 | 高中   |
|  4 | 本科   |
|  5 | 硕士   |
|  6 | 博士   |
+----+--------+
6 rows in set (0.00 sec)</code></pre><p>查询：</p>
<pre><code>mysql&gt; select * from user where edu in (select id from tb_edu where id &gt; 5);
+----+------+-----+-----+-----------+
| id | name | age | edu | email     |
+----+------+-----+-----+-----------+
|  5 | qian |  32 |   6 | li@qq.com |
| 14 | yang |  19 |   6 | li@qq.com |
+----+------+-----+-----+-----------+
2 rows in set (0.00 sec)</code></pre><h3 id="关系表"><a href="#关系表" class="headerlink" title="关系表"></a>关系表</h3><h5 id="两表无条件查询"><a href="#两表无条件查询" class="headerlink" title="两表无条件查询"></a>两表无条件查询</h5><p>查询结果是乘积关系（tb_edu共有6条数据，user有15条数据）。</p>
<pre><code>mysql&gt; select * from user, tb_edu;
+----+-----------+-----+-----+-------------+----+--------+
| id | name      | age | edu | email       | id | edu    |
+----+-----------+-----+-----+-------------+----+--------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  1 | 小学   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  2 | 初中   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  3 | 高中   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  4 | 本科   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  5 | 硕士   |
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |  6 | 博士   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  1 | 小学   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  2 | 初中   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  3 | 高中   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  4 | 本科   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  5 | 硕士   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |  6 | 博士   |
|  3 | wang      |  26 |   3 | li@qq.com   |  1 | 小学   |
|  3 | wang      |  26 |   3 | li@qq.com   |  2 | 初中   |
|  3 | wang      |  26 |   3 | li@qq.com   |  3 | 高中   |
|  3 | wang      |  26 |   3 | li@qq.com   |  4 | 本科   |
|  3 | wang      |  26 |   3 | li@qq.com   |  5 | 硕士   |
|  3 | wang      |  26 |   3 | li@qq.com   |  6 | 博士   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  1 | 小学   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  2 | 初中   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  3 | 高中   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  4 | 本科   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  5 | 硕士   |
|  4 | zhao      |  25 |   2 | li@qq.com   |  6 | 博士   |
|  5 | qian      |  32 |   6 | li@qq.com   |  1 | 小学   |
|  5 | qian      |  32 |   6 | li@qq.com   |  2 | 初中   |
|  5 | qian      |  32 |   6 | li@qq.com   |  3 | 高中   |
|  5 | qian      |  32 |   6 | li@qq.com   |  4 | 本科   |
|  5 | qian      |  32 |   6 | li@qq.com   |  5 | 硕士   |
|  5 | qian      |  32 |   6 | li@qq.com   |  6 | 博士   |
|  6 | sun       |  42 |   1 | li@qq.com   |  1 | 小学   |
|  6 | sun       |  42 |   1 | li@qq.com   |  2 | 初中   |
|  6 | sun       |  42 |   1 | li@qq.com   |  3 | 高中   |
|  6 | sun       |  42 |   1 | li@qq.com   |  4 | 本科   |
|  6 | sun       |  42 |   1 | li@qq.com   |  5 | 硕士   |
|  6 | sun       |  42 |   1 | li@qq.com   |  6 | 博士   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  1 | 小学   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  2 | 初中   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  3 | 高中   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  4 | 本科   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  5 | 硕士   |
|  7 | zhou      |  34 |   3 | li@qq.com   |  6 | 博士   |
|  8 | wu        |  53 |   5 | li@qq.com   |  1 | 小学   |
|  8 | wu        |  53 |   5 | li@qq.com   |  2 | 初中   |
|  8 | wu        |  53 |   5 | li@qq.com   |  3 | 高中   |
|  8 | wu        |  53 |   5 | li@qq.com   |  4 | 本科   |
|  8 | wu        |  53 |   5 | li@qq.com   |  5 | 硕士   |
|  8 | wu        |  53 |   5 | li@qq.com   |  6 | 博士   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  1 | 小学   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  2 | 初中   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  3 | 高中   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  4 | 本科   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  5 | 硕士   |
|  9 | zheng     |  64 |   4 | li@qq.com   |  6 | 博士   |
| 10 | feng      |  67 |   1 | li@qq.com   |  1 | 小学   |
| 10 | feng      |  67 |   1 | li@qq.com   |  2 | 初中   |
| 10 | feng      |  67 |   1 | li@qq.com   |  3 | 高中   |
| 10 | feng      |  67 |   1 | li@qq.com   |  4 | 本科   |
| 10 | feng      |  67 |   1 | li@qq.com   |  5 | 硕士   |
| 10 | feng      |  67 |   1 | li@qq.com   |  6 | 博士   |
| 11 | chen      |  25 |   3 | li@qq.com   |  1 | 小学   |
| 11 | chen      |  25 |   3 | li@qq.com   |  2 | 初中   |
| 11 | chen      |  25 |   3 | li@qq.com   |  3 | 高中   |
| 11 | chen      |  25 |   3 | li@qq.com   |  4 | 本科   |
| 11 | chen      |  25 |   3 | li@qq.com   |  5 | 硕士   |
| 11 | chen      |  25 |   3 | li@qq.com   |  6 | 博士   |
| 12 | chu       |  72 |   4 | li@qq.com   |  1 | 小学   |
| 12 | chu       |  72 |   4 | li@qq.com   |  2 | 初中   |
| 12 | chu       |  72 |   4 | li@qq.com   |  3 | 高中   |
| 12 | chu       |  72 |   4 | li@qq.com   |  4 | 本科   |
| 12 | chu       |  72 |   4 | li@qq.com   |  5 | 硕士   |
| 12 | chu       |  72 |   4 | li@qq.com   |  6 | 博士   |
| 13 | wei       |  81 |   5 | li@qq.com   |  1 | 小学   |
| 13 | wei       |  81 |   5 | li@qq.com   |  2 | 初中   |
| 13 | wei       |  81 |   5 | li@qq.com   |  3 | 高中   |
| 13 | wei       |  81 |   5 | li@qq.com   |  4 | 本科   |
| 13 | wei       |  81 |   5 | li@qq.com   |  5 | 硕士   |
| 13 | wei       |  81 |   5 | li@qq.com   |  6 | 博士   |
| 14 | yang      |  19 |   6 | li@qq.com   |  1 | 小学   |
| 14 | yang      |  19 |   6 | li@qq.com   |  2 | 初中   |
| 14 | yang      |  19 |   6 | li@qq.com   |  3 | 高中   |
| 14 | yang      |  19 |   6 | li@qq.com   |  4 | 本科   |
| 14 | yang      |  19 |   6 | li@qq.com   |  5 | 硕士   |
| 14 | yang      |  19 |   6 | li@qq.com   |  6 | 博士   |
| 15 | zhang     |  55 |   1 | 4444        |  1 | 小学   |
| 15 | zhang     |  55 |   1 | 4444        |  2 | 初中   |
| 15 | zhang     |  55 |   1 | 4444        |  3 | 高中   |
| 15 | zhang     |  55 |   1 | 4444        |  4 | 本科   |
| 15 | zhang     |  55 |   1 | 4444        |  5 | 硕士   |
| 15 | zhang     |  55 |   1 | 4444        |  6 | 博士   |
+----+-----------+-----+-----+-------------+----+--------+
90 rows in set (0.00 sec)</code></pre><h5 id="条件查询-1"><a href="#条件查询-1" class="headerlink" title="条件查询"></a>条件查询</h5><pre><code>mysql&gt; select user.id, user.name,user.age, tb_edu.edu from user, tb_edu where user.edu=tb_edu.id;
+----+-----------+-----+--------+
| id | name      | age | edu    |
+----+-----------+-----+--------+
|  1 | 刘二拐    | 123 | 小学   |
|  2 | 李大狗    |  22 | 初中   |
|  3 | wang      |  26 | 高中   |
|  4 | zhao      |  25 | 初中   |
|  5 | qian      |  32 | 博士   |
|  6 | sun       |  42 | 小学   |
|  7 | zhou      |  34 | 高中   |
|  8 | wu        |  53 | 硕士   |
|  9 | zheng     |  64 | 本科   |
| 10 | feng      |  67 | 小学   |
| 11 | chen      |  25 | 高中   |
| 12 | chu       |  72 | 本科   |
| 13 | wei       |  81 | 硕士   |
| 14 | yang      |  19 | 博士   |
| 15 | zhang     |  55 | 小学   |
+----+-----------+-----+--------+
15 rows in set (0.00 sec)</code></pre><h4 id="内连接查询-inner-join"><a href="#内连接查询-inner-join" class="headerlink" title="内连接查询 inner join"></a>内连接查询 inner join</h4><pre><code>mysql&gt; select user.id, user.name,user.age, tb_edu.edu from user inner join tb_edu on  user.edu=tb_edu.id;
+----+-----------+-----+--------+
| id | name      | age | edu    |
+----+-----------+-----+--------+
|  1 | 刘二拐    | 123 | 小学   |
|  2 | 李大狗    |  22 | 初中   |
|  3 | wang      |  26 | 高中   |
|  4 | zhao      |  25 | 初中   |
|  5 | qian      |  32 | 博士   |
|  6 | sun       |  42 | 小学   |
|  7 | zhou      |  34 | 高中   |
|  8 | wu        |  53 | 硕士   |
|  9 | zheng     |  64 | 本科   |
| 10 | feng      |  67 | 小学   |
| 11 | chen      |  25 | 高中   |
| 12 | chu       |  72 | 本科   |
| 13 | wei       |  81 | 硕士   |
| 14 | yang      |  19 | 博士   |
| 15 | zhang     |  55 | 小学   |
+----+-----------+-----+--------+
15 rows in set (0.00 sec)</code></pre><blockquote>
<p>试了下，在内连接查询中，将on 换成where也可以查出来。</p>
</blockquote>
<h4 id="左连接查询-left-join"><a href="#左连接查询-left-join" class="headerlink" title="左连接查询 left join"></a>左连接查询 left join</h4><p>2个表数据如下：</p>
<pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+----------------------+
| id | name      | age | edu | email                |
+----+-----------+-----+-----+----------------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com          |
|  2 | 李大狗    |  22 |   2 | li@qq.com            |
|  3 | wang      |  26 |   3 | li@qq.com            |
|  4 | zhao      |  25 |   2 | li@qq.com            |
|  5 | qian      |  32 |   6 | li@qq.com            |
|  6 | sun       |  42 |   1 | li@qq.com            |
|  7 | zhou      |  34 |   3 | li@qq.com            |
|  8 | wu        |  53 |   5 | li@qq.com            |
|  9 | zheng     |  64 |   4 | li@qq.com            |
| 10 | feng      |  67 |   1 | li@qq.com            |
| 11 | chen      |  25 |   3 | li@qq.com            |
| 12 | chu       |  72 |   4 | li@qq.com            |
| 13 | wei       |  81 |   5 | li@qq.com            |
| 14 | yang      |  19 |   6 | li@qq.com            |
| 15 | zhang     |  55 |   1 | 4444                 |
| 16 | 张大壮    |  43 |   0 | zhangdazhuang@qq.com |
| 17 | 郭麒麟    |  33 |   0 | zguo@qq.com          |
+----+-----------+-----+-----+----------------------+
17 rows in set (0.00 sec)

mysql&gt; select * from tb_edu;
+----+--------+
| id | edu    |
+----+--------+
|  1 | 小学   |
|  2 | 初中   |
|  3 | 高中   |
|  4 | 本科   |
|  5 | 硕士   |
|  6 | 博士   |
|  7 | 大专   |
|  8 | 中专   |
+----+--------+
8 rows in set (0.00 sec)</code></pre><p>左连接语句如下：</p>
<pre><code>mysql&gt; select * from user left join tb_edu on user.edu=tb_edu.id;
+----+-----------+-----+-----+----------------------+------+--------+
| id | name      | age | edu | email                | id   | edu    |
+----+-----------+-----+-----+----------------------+------+--------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com          |    1 | 小学   |
|  2 | 李大狗    |  22 |   2 | li@qq.com            |    2 | 初中   |
|  3 | wang      |  26 |   3 | li@qq.com            |    3 | 高中   |
|  4 | zhao      |  25 |   2 | li@qq.com            |    2 | 初中   |
|  5 | qian      |  32 |   6 | li@qq.com            |    6 | 博士   |
|  6 | sun       |  42 |   1 | li@qq.com            |    1 | 小学   |
|  7 | zhou      |  34 |   3 | li@qq.com            |    3 | 高中   |
|  8 | wu        |  53 |   5 | li@qq.com            |    5 | 硕士   |
|  9 | zheng     |  64 |   4 | li@qq.com            |    4 | 本科   |
| 10 | feng      |  67 |   1 | li@qq.com            |    1 | 小学   |
| 11 | chen      |  25 |   3 | li@qq.com            |    3 | 高中   |
| 12 | chu       |  72 |   4 | li@qq.com            |    4 | 本科   |
| 13 | wei       |  81 |   5 | li@qq.com            |    5 | 硕士   |
| 14 | yang      |  19 |   6 | li@qq.com            |    6 | 博士   |
| 15 | zhang     |  55 |   1 | 4444                 |    1 | 小学   |
| 16 | 张大壮    |  43 |   0 | zhangdazhuang@qq.com | NULL | NULL   |
| 17 | 郭麒麟    |  33 |   0 | zguo@qq.com          | NULL | NULL   |
+----+-----------+-----+-----+----------------------+------+--------+
17 rows in set (0.00 sec)</code></pre><blockquote>
<p>因为 user表中的16、17两行记录的edu为0。但是对应的tb_edu中并没有关于id为0的数据，所以为null。</p>
</blockquote>
<h4 id="右连接查询-right-join"><a href="#右连接查询-right-join" class="headerlink" title="右连接查询 right join"></a>右连接查询 right join</h4><pre><code>mysql&gt; select * from user right join tb_edu on user.edu=tb_edu.id;
+------+-----------+------+------+-------------+----+--------+
| id   | name      | age  | edu  | email       | id | edu    |
+------+-----------+------+------+-------------+----+--------+
|    1 | 刘二拐    |  123 |    1 | lxx@agc.com |  1 | 小学   |
|    2 | 李大狗    |   22 |    2 | li@qq.com   |  2 | 初中   |
|    3 | wang      |   26 |    3 | li@qq.com   |  3 | 高中   |
|    4 | zhao      |   25 |    2 | li@qq.com   |  2 | 初中   |
|    5 | qian      |   32 |    6 | li@qq.com   |  6 | 博士   |
|    6 | sun       |   42 |    1 | li@qq.com   |  1 | 小学   |
|    7 | zhou      |   34 |    3 | li@qq.com   |  3 | 高中   |
|    8 | wu        |   53 |    5 | li@qq.com   |  5 | 硕士   |
|    9 | zheng     |   64 |    4 | li@qq.com   |  4 | 本科   |
|   10 | feng      |   67 |    1 | li@qq.com   |  1 | 小学   |
|   11 | chen      |   25 |    3 | li@qq.com   |  3 | 高中   |
|   12 | chu       |   72 |    4 | li@qq.com   |  4 | 本科   |
|   13 | wei       |   81 |    5 | li@qq.com   |  5 | 硕士   |
|   14 | yang      |   19 |    6 | li@qq.com   |  6 | 博士   |
|   15 | zhang     |   55 |    1 | 4444        |  1 | 小学   |
| NULL | NULL      | NULL | NULL | NULL        |  7 | 大专   |
| NULL | NULL      | NULL | NULL | NULL        |  8 | 中专   |
+------+-----------+------+------+-------------+----+--------+
17 rows in set (0.00 sec)</code></pre><h4 id="左右连接规则总结："><a href="#左右连接规则总结：" class="headerlink" title="左右连接规则总结："></a>左右连接规则总结：</h4><blockquote>
<p>from 谁谁在前面显示，left-right 表示以左边的关键词为主导还是以右边的关键词为主导。以谁为主导，那么谁的数据就会全部展示，另外一个表只能配合显示：另一张表有多个符合的，主导表大不了会重复显示符合的，另一个表没有符合的数据，就会乖乖的显示为空，主导表仍会把自己的数据展示出来。所以展示的现象是：主导表中的数据有没有符合的都会至少展示一次，有多个符合则展示多次。</p>
</blockquote>
<pre><code>mysql&gt; select user.*, tb_edu.*   from user left join tb_edu on user.edu=tb_edu.id;
+----+-----------+-----+-----+----------------------+------+--------+
| id | name      | age | edu | email                | id   | edu    |
+----+-----------+-----+-----+----------------------+------+--------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com          |    1 | 小学   |
|  2 | 李大狗    |  22 |   2 | li@qq.com            |    2 | 初中   |
|  3 | wang      |  26 |   3 | li@qq.com            |    3 | 高中   |
|  4 | zhao      |  25 |   2 | li@qq.com            |    2 | 初中   |
|  5 | qian      |  32 |   6 | li@qq.com            |    6 | 博士   |
|  6 | sun       |  42 |   1 | li@qq.com            |    1 | 小学   |
|  7 | zhou      |  34 |   3 | li@qq.com            |    3 | 高中   |
|  8 | wu        |  53 |   5 | li@qq.com            |    5 | 硕士   |
|  9 | zheng     |  64 |   4 | li@qq.com            |    4 | 本科   |
| 10 | feng      |  67 |   1 | li@qq.com            |    1 | 小学   |
| 11 | chen      |  25 |   3 | li@qq.com            |    3 | 高中   |
| 12 | chu       |  72 |   4 | li@qq.com            |    4 | 本科   |
| 13 | wei       |  81 |   5 | li@qq.com            |    5 | 硕士   |
| 14 | yang      |  19 |   6 | li@qq.com            |    6 | 博士   |
| 15 | zhang     |  55 |   1 | 4444                 |    1 | 小学   |
| 16 | 张大壮    |  43 |   0 | zhangdazhuang@qq.com | NULL | NULL   |
| 17 | 郭麒麟    |  33 |   0 | zguo@qq.com          | NULL | NULL   |
+----+-----------+-----+-----+----------------------+------+--------+
17 rows in set (0.01 sec)</code></pre><p>现在筛选出不为null的值。</p>
<pre><code>mysql&gt; select user.*, tb_edu.*   from user left join tb_edu on user.edu=tb_edu.id where tb_edu.id is not null;
+----+-----------+-----+-----+-------------+------+--------+
| id | name      | age | edu | email       | id   | edu    |
+----+-----------+-----+-----+-------------+------+--------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |    1 | 小学   |
|  2 | 李大狗    |  22 |   2 | li@qq.com   |    2 | 初中   |
|  3 | wang      |  26 |   3 | li@qq.com   |    3 | 高中   |
|  4 | zhao      |  25 |   2 | li@qq.com   |    2 | 初中   |
|  5 | qian      |  32 |   6 | li@qq.com   |    6 | 博士   |
|  6 | sun       |  42 |   1 | li@qq.com   |    1 | 小学   |
|  7 | zhou      |  34 |   3 | li@qq.com   |    3 | 高中   |
|  8 | wu        |  53 |   5 | li@qq.com   |    5 | 硕士   |
|  9 | zheng     |  64 |   4 | li@qq.com   |    4 | 本科   |
| 10 | feng      |  67 |   1 | li@qq.com   |    1 | 小学   |
| 11 | chen      |  25 |   3 | li@qq.com   |    3 | 高中   |
| 12 | chu       |  72 |   4 | li@qq.com   |    4 | 本科   |
| 13 | wei       |  81 |   5 | li@qq.com   |    5 | 硕士   |
| 14 | yang      |  19 |   6 | li@qq.com   |    6 | 博士   |
| 15 | zhang     |  55 |   1 | 4444        |    1 | 小学   |
+----+-----------+-----+-----+-------------+------+--------+
15 rows in set (0.00 sec)

mysql&gt; select user.*, tb_edu.*   from user left join tb_edu on user.edu=tb_edu.id where tb_edu.id is  null;
+----+-----------+-----+-----+----------------------+------+------+
| id | name      | age | edu | email                | id   | edu  |
+----+-----------+-----+-----+----------------------+------+------+
| 16 | 张大壮    |  43 |   0 | zhangdazhuang@qq.com | NULL | NULL |
| 17 | 郭麒麟    |  33 |   0 | zguo@qq.com          | NULL | NULL |
+----+-----------+-----+-----+----------------------+------+------+
2 rows in set (0.00 sec)</code></pre><p><img src="https://note.youdao.com/yws/public/resource/ba14969cb0c918adbb769c3272d95816/xmlnote/B6F02A34945C470AB5405BAE599DC7EE/26865" alt="image"></p>
<h4 id="较为复杂的左连接查询"><a href="#较为复杂的左连接查询" class="headerlink" title="较为复杂的左连接查询"></a>较为复杂的左连接查询</h4><pre><code>select gid, t1.name, t2.name from m left join t as t1 on m.tid = t1.tid left join t2 on  m.gid = t2.gid;</code></pre><h2 id="union"><a href="#union" class="headerlink" title="union"></a>union</h2><p>使用union时，两个对应的列数和数据类型必须相同。各个select语句之间使用 union 或者union all连接。不使用all时，执行时会删除重复的数据，所有的返回的行都是唯一的。使用all时，不删除重复行也不对结果进行自动排序。</p>
<pre><code>select temp.id, temp.name, temp.age, temp.edu from (select *from user union select * from tb_edu) as temp;</code></pre><h2 id="在数据库中使用enum类型"><a href="#在数据库中使用enum类型" class="headerlink" title="在数据库中使用enum类型"></a>在数据库中使用enum类型</h2><p>enum是一个字符串对象，其值为表创建时在列规定中枚举中的一列值。</p>
<pre><code>create table temp1(
soc int,
level enum(&#39;excellent&#39;,&#39;good&#39;,&#39;bad&#39;)
);</code></pre><pre><code>mysql&gt; desc temp1\G;
*************************** 1. row ***************************
  Field: soc
   Type: int(11)
   Null: YES
    Key:
Default: NULL
  Extra:
*************************** 2. row ***************************
  Field: level
   Type: enum(&#39;excellent&#39;,&#39;good&#39;,&#39;bad&#39;)
   Null: YES
    Key:
Default: NULL
  Extra:
2 rows in set (0.00 sec)

ERROR:
No query specified</code></pre><p>如果插入的枚举值不在enum列表中，则会报错</p>
<pre><code>mysql&gt; insert into temp1 values(100,&#39;best&#39;);
ERROR 1265 (01000): Data truncated for column &#39;level&#39; at row 1</code></pre><p>enum(‘excellent’,’good’,’bad’)分别代表1，2，3</p>
<pre><code>insert into temp1 values(70,&#39;good&#39;),(90,1),(70,2),(50,3);</code></pre><pre><code>mysql&gt; insert into temp1 values(70,&#39;good&#39;),(90,1),(70,2),(50,3);
Query OK, 4 rows affected (0.02 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql&gt; select * from temp1;
+------+-----------+
| soc  | level     |
+------+-----------+
|   70 | good      |
|   90 | excellent |
|   70 | good      |
|   50 | bad       |
+------+-----------+
4 rows in set (0.00 sec)</code></pre><h3 id="在MySQL中使用set数据类型"><a href="#在MySQL中使用set数据类型" class="headerlink" title="在MySQL中使用set数据类型"></a>在MySQL中使用set数据类型</h3><p>set是一个字符串对象，可以有零个或多个值。set最多可以有64个成员，其值为表创建时在列规定中枚举中的一列值。与enum不同的是，enum只能从定义的列表中选择一个值插入，而set可以从定义的列值中选择多个字符的结合。</p>
<pre><code>create table temp2(s set(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;));</code></pre><pre><code>mysql&gt; desc temp2\G;
*************************** 1. row ***************************
  Field: s
   Type: set(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;)
   Null: YES
    Key:
Default: NULL
  Extra:
1 row in set (0.00 sec)

ERROR:
No query specified</code></pre><pre><code>insert into temp2 values(&#39;a&#39;),(&#39;a,b,a&#39;),(&#39;c,a,d&#39;);</code></pre><pre><code>mysql&gt; insert into temp2 values(&#39;a&#39;),(&#39;a,b,a&#39;),(&#39;c,a,d&#39;);
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; select * from temp2;
+-------+
| s     |
+-------+
| a     |
| a,b   |
| a,c,d |
+-------+
3 rows in set (0.00 sec)</code></pre><h3 id="正则"><a href="#正则" class="headerlink" title="正则"></a>正则</h3><pre><code>^ 匹配以^后面的字符开头的字符串 ^test
$ 匹配以$前面的字符结尾的字符串 test$
. 匹配任何一个单字符 &#39;b.t&#39;   bat bct but bite
[...] 匹配方括号内的任何字符
* 匹配零个或多个在它前面的字符。
+ 1次或多次
[^] 不包含括号内的任何字符 [^abc] 不包含a b 或c 的字符串 
字符串{n,}  前面的字符串至少匹配n次   b{2} 匹配2个或者更多的b
字符串{n,m}  前面的字符串至少匹配n次，至多m次   </code></pre><pre><code>mysql&gt; select * from user;
+----+-----------+-----+-----+-------------+
| id | name      | age | edu | email       |
+----+-----------+-----+-----+-------------+
|  1 | 刘二拐    | 123 |   1 | lxx@agc.com |
|  2 | li        |  22 |   2 | li@qq.com   |
|  3 | wang      |  26 |   3 | li@qq.com   |
|  4 | zhao      |  25 |   2 | li@qq.com   |
|  5 | qian      |  32 |   6 | li@qq.com   |
|  6 | sun       |  42 |   1 | li@qq.com   |
|  7 | zhou      |  34 |   3 | li@qq.com   |
|  8 | wu        |  53 |   5 | li@qq.com   |
|  9 | zheng     |  64 |   4 | li@qq.com   |
| 10 | feng      |  67 |   1 | li@qq.com   |
| 11 | chen      |  25 |   3 | li@qq.com   |
| 12 | chu       |  72 |   4 | li@qq.com   |
| 13 | wei       |  81 |   5 | li@qq.com   |
| 14 | yang      |  19 |   6 | li@qq.com   |
| 15 | zhang     |  55 |   1 | 4444        |
+----+-----------+-----+-----+-------------+
15 rows in set (0.00 sec)



mysql&gt; select * from user where name regexp &#39;^c&#39;;
+----+------+-----+-----+-----------+
| id | name | age | edu | email     |
+----+------+-----+-----+-----------+
| 11 | chen |  25 |   3 | li@qq.com |
| 12 | chu  |  72 |   4 | li@qq.com |
+----+------+-----+-----+-----------+
2 rows in set (0.02 sec)


mysql&gt; select * from user where name regexp &#39;ng$&#39;;
+----+-------+-----+-----+-----------+
| id | name  | age | edu | email     |
+----+-------+-----+-----+-----------+
|  3 | wang  |  26 |   3 | li@qq.com |
|  9 | zheng |  64 |   4 | li@qq.com |
| 10 | feng  |  67 |   1 | li@qq.com |
| 14 | yang  |  19 |   6 | li@qq.com |
| 15 | zhang |  55 |   1 | 4444      |
+----+-------+-----+-----+-----------+
5 rows in set (0.00 sec)


mysql&gt; select * from user where name regexp &#39;h..g&#39;;
+----+-------+-----+-----+-----------+
| id | name  | age | edu | email     |
+----+-------+-----+-----+-----------+
|  9 | zheng |  64 |   4 | li@qq.com |
| 15 | zhang |  55 |   1 | 4444      |
+----+-------+-----+-----+-----------+
2 rows in set (0.00 sec)



mysql&gt; select * from user where name regexp &#39;ng&#39;;
+----+-------+-----+-----+-----------+
| id | name  | age | edu | email     |
+----+-------+-----+-----+-----------+
|  3 | wang  |  26 |   3 | li@qq.com |
|  9 | zheng |  64 |   4 | li@qq.com |
| 10 | feng  |  67 |   1 | li@qq.com |
| 14 | yang  |  19 |   6 | li@qq.com |
| 15 | zhang |  55 |   1 | 4444      |
+----+-------+-----+-----+-----------+
5 rows in set (0.00 sec)


mysql&gt; select * from user where name regexp &#39;[wz]&#39;;
+----+-------+-----+-----+-----------+
| id | name  | age | edu | email     |
+----+-------+-----+-----+-----------+
|  3 | wang  |  26 |   3 | li@qq.com |
|  4 | zhao  |  25 |   2 | li@qq.com |
|  7 | zhou  |  34 |   3 | li@qq.com |
|  8 | wu    |  53 |   5 | li@qq.com |
|  9 | zheng |  64 |   4 | li@qq.com |
| 13 | wei   |  81 |   5 | li@qq.com |
| 15 | zhang |  55 |   1 | 4444      |
+----+-------+-----+-----+-----------+
7 rows in set (0.00 sec)

mysql&gt; select * from user where name regexp &#39;[w-z]&#39;;
+----+-------+-----+-----+-----------+
| id | name  | age | edu | email     |
+----+-------+-----+-----+-----------+
|  3 | wang  |  26 |   3 | li@qq.com |
|  4 | zhao  |  25 |   2 | li@qq.com |
|  7 | zhou  |  34 |   3 | li@qq.com |
|  8 | wu    |  53 |   5 | li@qq.com |
|  9 | zheng |  64 |   4 | li@qq.com |
| 13 | wei   |  81 |   5 | li@qq.com |
| 14 | yang  |  19 |   6 | li@qq.com |
| 15 | zhang |  55 |   1 | 4444      |
+----+-------+-----+-----+-----------+
8 rows in set (0.00 sec)</code></pre>
            </div>
            <hr/>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《数据库入门2》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2018/10/02/2018-10-02-shu-ju-ku-ru-men-2/" property="cc:attributionName"
               rel="cc:attributionURL">
                刘星星
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'abc79898ea014913ba7c',
        clientSecret: '41f23ea4570391c06c9f4f47d0acec45d8dfe3ff',
        repo: 'blogtalk',
        owner: 'smileasy',
        admin: "smileasy",
        id: '2018-10-02T00-00-00',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6 overflow-policy" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2018/12/29/2018-12-29-swift-zhong-de-kai-fa-ji-qiao-zong-jie-yi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="swift中的开发技巧总结(一)">
                        
                        <span class="card-title">swift中的开发技巧总结(一)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            


参考链接1、extension  UIViewextension UIView {
    func addSubviews(_ subviews: UIView...) {
        subviews.forEach(addS
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018-12-29
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/iOS/" class="post-category" target="_blank">
                                    iOS
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/swift/" target="_blank">
                        <span class="chip bg-color">swift</span>
                    </a>
                    
                    <a href="/tags/总结提高/" target="_blank">
                        <span class="chip bg-color">总结提高</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6 overflow-policy" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2018/10/01/2018-10-01-shu-ju-ku-ru-men/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="数据库入门1">
                        
                        <span class="card-title">数据库入门1</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            


基本概念什么是数据库？

数据库(database) 保存有组织的数据的容器(通常是一个文 件或一组文件)。数据库软件称为DBMS(数据库管理系统)。数据库 是通过DBMS创建和操纵的容器。

什么是SQL?

SQL(发音为字母S-
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018-10-01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/MySQL/" class="post-category" target="_blank">
                                    MySQL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/基础知识/" target="_blank">
                        <span class="chip bg-color">基础知识</span>
                    </a>
                    
                    <a href="/tags/MySQL/" target="_blank">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站博客内容由刘星星负责更新维护.
            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;当前站点总字数:&nbsp;
                <span class="white-color">118.4k</span>
            

            
			
                <br>
                
                <span id="busuanzi_container_site_pv">
                    <i class="fa fa-heart-o"></i>
                    本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                </span>
                
                
                <span id="busuanzi_container_site_uv">
                    <i class="fa fa-users"></i>
                    次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
                </span>
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">





</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->




    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


</body>
</html>